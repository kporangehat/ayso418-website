{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}
{% load static %}

{% block body_class %}template-flexpage{% endblock %}

{% block extra_css %}
{% endblock extra_css %}

{% block content %}

{% if page.image %}
    {% image_url page.image "original" as hero_img %}
    <div class="hero min-h-[30vh]" style="background-image: url({{ hero_img }});">
    <div class="hero-overlay"></div>
{% else %}
    <div class="hero min-h-[30vh] bg-linear-to-r from-[#80caff] to-[#4f46e5]">
{% endif %}

  <div class="hero-content text-neutral-content text-center">
    <div class="max-w-xl">
      <h1 class="mb-5 text-5xl font-bold">{{ page.title }}</h1>
      <p class="mb-5">
        {{ page.subtitle }}
      </p>
    </div>
  </div>
</div>


    <div class="py-8 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <!-- Main Content Grid: Article + Sidebar -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">

                <!-- Main Article Content (2/3 width on large screens) -->
                <article class="lg:col-span-2" aria-labelledby="article-title">
                    <div class="card bg-base-100 shadow-xl">
                        <div class="card-body p-8 sm:p-12">
                            <!-- Article Content -->
                            <div class="prose prose-lg max-w-none">
                                {% if page.subtitle %}
                                <p class="lead text-xl text-base-content/80 mb-6">
                                    {{ page.subtitle }}
                                </p>
                                {% endif %}

                                {% for block in page.body %}
                                    {% include_block block with page=page %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </article>

                <!-- Sidebar (1/3 width on large screens) -->
                <aside class="lg:col-span-1 space-y-6" aria-label="Sidebar content">

                    <!-- Resources Navigation - Always shown when available -->
                    {% if resources_index %}
                        {% include "blocks/resources_navigation_block.html" %}
                    {% endif %}

                </aside>
            </div>
        </div>
    </div>

{% endblock content %}
