{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}
{% load static %}

{% block body_class %}template-flexpage{% endblock %}

{% block extra_css %}
{% endblock extra_css %}

{% block content %}

{% image page.image width-1024 as header_image %}

        <!-- Main Content -->
        <div class="container mx-auto px-4 max-w-7xl my-8">
            <div class="space-y-6">
                <!-- Header Card -->
                <div class="card bg-base-100 shadow-xl">
                    <div class="card-body max-w-none">
                        <div class="max-w-7xl">
                            <!-- Category Badge -->
                            {% if category_page %}
                              <div class="badge badge-soft py-5 mb-10">
                                <a href="{{ category_page.url }}">{{ category_page.title }}</a>
                              </div>
                            {% else %}
                              <div class="mb-10"></div>
                            {% endif %}

                            <!-- Title -->
                            <h1 class="mb-5 text-5xl font-bold text-primary prose">
                                {{ page.title }}
                            </h1>
                            <h3 class="mb-5 text-2xl font-semibold">{{ page.subtitle }}</h3>

                            <div class="divider"></div>

                            <!-- Hero Image -->
                            {% if page.image %}
                                {% image_url page.image "original" as hero_img %}
                                <div class="hero min-h-[30vh]" style="background-image: url({{ hero_img }});">
                                    <div class="hero-overlay"></div>
                                </div>
                            {% endif %}
                        </div>

                        <!-- Body Content: Loop through layout sections -->
                        {% for section in page.body %}
                            {% include_block section %}
                        {% endfor %}

                    </div>
                </div>
            </div>
        </div>

        <!-- Callouts Section: Full-width blocks -->
        {% if page.callouts %}
            <div class="w-full">
                {% for callout in page.callouts %}
                    <div class="w-full">
                        {% include_block callout %}
                    </div>
                {% endfor %}
            </div>
        {% endif %}

{% endblock content %}
